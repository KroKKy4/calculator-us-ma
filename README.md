# Terminal Calculator us-ma

## Что реализовано  
Калькулятор для вычисления целочисленных арифметических выражений в интерактивном режиме и пакетной обработке.

### Основные возможности
- **Операторы**: `+`, `-`, `*`, `/` (целочисленное деление)
- **Приоритет операций**: стандартный математический (`*/` перед `+-`)
- **Скобки**: неограниченная вложенность `()`
- **Форматирование**: игнорирует пробелы, табы и переносы строк
- **Проверки**: контроль переполнений (числа в диапазоне ±2×10⁹)

### Ограничения
- Только целые числа
- Нет унарных операторов (например, `-5`)
- Деление на ноль приводит к аварийному завершению

---

## Установка и использование

### Требования
- Компилятор GCC
- Python 3.8+ (для интеграционных тестов)

### Быстрый старт
1. Сборка программы:
```bash
make build/app.exe
```

2. Запуск в интерактивном режиме:
```bash
make run-int
> (15*3 + 4)/7
7
```

3. Пакетная обработка файла:
```bash
echo "3*(8-2)" | ./build/app.exe
18
```

## Тестирование
 - Модульные тесты (Google Test):
  ```bash
  make run-unit-test
  ```

 - Интеграционные тесты (pytest):
   ```bash
   make run-integration-tests
   ```

## Техническая реализация
### Архитектура парсера

Рекурсивный нисходящий парсер с разделением на уровни:

   1. Лексер: потоковая обработка символов

   2. Парсер выражений (parse_expr):

       - Обрабатывает + и -

       - Вызывает parse_term

   3. Парсер терминов (parse_term):

       - Обрабатывает * и /

       - Вызывает parse_factor

   4. Парсер факторов (parse_factor):

       - Обрабатывает числа и скобки

## Система сборки

   - Makefile:

       - Сборка основной программы: gcc -Wall -Werror -lm

       - Модульные тесты: Google Test + CTest

       - Интеграционные тесты: Python+pytest
```bash
build/app.exe: src/calculator.c
    gcc $(CFLAGS) $^ -o $@ $(LDFLAGS)
```

Примеры вычислений
Ввод	Результат	Логика вычислений
3 + 4 * 2	11	4*2=8 → 3+8=11
(10+5)*2 - 8/4	28	10+5=15 → 15*2=30 → 8/4=2 → 30-2=28
100/(3+2)	20	3+2=5 → 100/5=20
